{"ast":null,"code":"import axios from'axios';import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Admin_Login(){useEffect(()=>{if(localStorage.getItem('adminname')){redirect('');}},[]);const redirect=useNavigate('/dashboard');// redirect any routes\nconst[formvalue,setFormvalue]=useState({email:\"\",password:\"\"});const getform=e=>{setFormvalue({...formvalue,[e.target.name]:e.target.value});console.log(formvalue);};const validation=()=>{var result=true;if(formvalue.email==\"\"){toast.error('Email Field is required');result=false;return false;}if(formvalue.password==\"\"){toast.error('Password Field is required');result=false;return false;}return result;};const submithandel=async e=>{e.preventDefault();// stop page reload\nif(validation()){const res=await axios.get(\"http://localhost:3000/admin?email=\".concat(formvalue.email));console.log(res);if(res.data.length>0){if(res.data[0].password==formvalue.password){// create session\nlocalStorage.setItem('adminname',res.data[0].name);localStorage.setItem('adminemail',res.data[0].email);toast.success('Login Success');redirect('/dashboard');}else{toast.error('Password incorrect');return false;}}else{toast.error('Email does not Exist');return false;}}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-xxl py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center wow fadeInUp\",\"data-wow-delay\":\"0.1s\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"section-title ff-secondary text-center text-primary fw-normal\",children:\"Login here\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"mb-5\",children:\"Login\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:/*#__PURE__*/_jsx(\"div\",{classname:\"container-mt-12\",children:/*#__PURE__*/_jsx(\"div\",{classname:\"wow fadeInUp\",\"data-wow-delay\":\"0.2s\",children:/*#__PURE__*/_jsxs(\"form\",{method:\"post\",onSubmit:submithandel,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter email\",name:\"email\",value:formvalue.email,onChange:getform}),/*#__PURE__*/_jsx(\"small\",{id:\"emailHelp\",className:\"form-text text-muted\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Password\",name:\"password\",value:formvalue.password,onChange:getform})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})})})})]})})});}export default Admin_Login;","map":{"version":3,"names":["axios","React","useEffect","useState","useNavigate","toast","jsx","_jsx","jsxs","_jsxs","Admin_Login","localStorage","getItem","redirect","formvalue","setFormvalue","email","password","getform","e","target","name","value","console","log","validation","result","error","submithandel","preventDefault","res","get","concat","data","length","setItem","success","children","className","classname","method","onSubmit","htmlFor","type","id","placeholder","onChange"],"sources":["C:/Users/yogid/OneDrive/Desktop/Tops/Rajesh/project/src/Admin/Pages/Admin_Login.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\n    \r\nfunction Admin_Login() {\r\n    useEffect(()=>{\r\n        if(localStorage.getItem('adminname'))\r\n        {\r\n            redirect('');\r\n        }\r\n      },[]);\r\n    const redirect = useNavigate('/dashboard'); // redirect any routes\r\n\r\n    const [formvalue, setFormvalue] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n    });\r\n\r\n    const getform = (e) => {\r\n        setFormvalue({ ...formvalue, [e.target.name]: e.target.value });\r\n        console.log(formvalue);\r\n    }\r\n\r\n    const validation = () => {\r\n\r\n        var result = true;\r\n\r\n        if (formvalue.email == \"\") {\r\n            toast.error('Email Field is required');\r\n            result = false;\r\n            return false;\r\n        }\r\n        if (formvalue.password == \"\") {\r\n            toast.error('Password Field is required');\r\n            result = false;\r\n            return false;\r\n        }\r\n        return result\r\n    }\r\n    const submithandel = async (e) => {\r\n        e.preventDefault(); // stop page reload\r\n        if (validation()) {\r\n          const res = await axios.get(`http://localhost:3000/admin?email=${formvalue.email}`);\r\n          console.log(res);\r\n          if (res.data.length > 0) {\r\n            if (res.data[0].password == formvalue.password) {\r\n                 // create session\r\n          localStorage.setItem('adminname',res.data[0].name);\r\n          localStorage.setItem('adminemail',res.data[0].email);\r\n\r\n              toast.success('Login Success');\r\n              redirect('/dashboard');\r\n            }\r\n            else {\r\n              toast.error('Password incorrect');\r\n              return false;\r\n            }\r\n          }\r\n          else {\r\n            toast.error('Email does not Exist');\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    \r\n    \r\n\r\n    return (\r\n        <div>\r\n            {/* Contact Start */}\r\n            <div className=\"container-xxl py-5\">\r\n                <div className=\"container\">\r\n                    <div className=\"text-center wow fadeInUp\" data-wow-delay=\"0.1s\">\r\n                        <h5 className=\"section-title ff-secondary text-center text-primary fw-normal\">Login here</h5>\r\n                        <h1 className=\"mb-5\">Login</h1>\r\n                    </div>\r\n                    <div className=\"row g-4\">\r\n                        <div classname=\"container-mt-12\">\r\n                            <div classname=\"wow fadeInUp\" data-wow-delay=\"0.2s\">\r\n                                <form method='post' onSubmit={submithandel}>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n                                        <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\" name='email' value={formvalue.email} onChange={getform}/>\r\n                                        <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\r\n                                    </div>\r\n                                    <br />\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n                                        <input type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\" name='password' value={formvalue.password} onChange={getform}/>\r\n                                    </div>\r\n                                    <br />\r\n                                    <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Admin_Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}