{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{toast}from'react-toastify';import axios from'axios';import Header1 from'../Components/Header1';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){useEffect(()=>{if(localStorage.getItem('userid')){redirect('/');}},[]);const redirect=useNavigate();// redirect any routes\nconst[formvalue,setFormvalue]=useState({email:\"\",password:\"\"});const getform=e=>{setFormvalue({...formvalue,[e.target.name]:e.target.value});console.log(formvalue);};const validation=()=>{var result=true;if(formvalue.email==\"\"){toast.error('Email Field is required');result=false;return false;}if(formvalue.password==\"\"){toast.error('Password Field is required');result=false;return false;}return result;};const submithandel=async e=>{e.preventDefault();// stop page reload\nif(validation()){const res=await axios.get(\"http://localhost:3000/user?email=\".concat(formvalue.email));console.log(res);if(res.data.length>0){if(res.data[0].password==formvalue.password){// create session\nlocalStorage.setItem('userid',res.data[0].id);localStorage.setItem('uname',res.data[0].name);toast.success('Login Success');redirect('/');}else{toast.error('Password incorrect');return false;}}else{toast.error('Email does not Exist');return false;}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header1,{title:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-xxl py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center wow fadeInUp\",\"data-wow-delay\":\"0.1s\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"section-title ff-secondary text-center text-primary fw-normal\",children:\"Login     here\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"mb-5\",children:\"Login\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:/*#__PURE__*/_jsx(\"div\",{classname:\"container-mt-12\",children:/*#__PURE__*/_jsx(\"div\",{classname:\"wow fadeInUp\",\"data-wow-delay\":\"0.2s\",children:/*#__PURE__*/_jsxs(\"form\",{method:\"post\",onSubmit:submithandel,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter email\",name:\"email\",value:formvalue.email,onChange:getform}),/*#__PURE__*/_jsx(\"small\",{id:\"emailHelp\",className:\"form-text text-muted\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"exampleInputPassword1\",name:\"password\",placeholder:\"Password\",value:formvalue.password,onChange:getform})]}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"If you not Registered then Register Here\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})})})})]})})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","toast","axios","Header1","jsx","_jsx","jsxs","_jsxs","Login","localStorage","getItem","redirect","formvalue","setFormvalue","email","password","getform","e","target","name","value","console","log","validation","result","error","submithandel","preventDefault","res","get","concat","data","length","setItem","id","success","children","title","className","classname","method","onSubmit","htmlFor","type","placeholder","onChange","to"],"sources":["C:/Users/yogid/OneDrive/Desktop/Tops/Rajesh/project/src/Website/Pages/Login.jsx"],"sourcesContent":["import React, { useState,useEffect } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\nimport axios from 'axios'\r\nimport Header1 from '../Components/Header1';\r\n\r\n\r\nfunction Login() {\r\n    useEffect(()=>{\r\n        if(localStorage.getItem('userid'))\r\n        {\r\n            redirect('/');\r\n        }\r\n      },[]);\r\n    const redirect = useNavigate(); // redirect any routes\r\n\r\n    const [formvalue, setFormvalue] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n    });\r\n\r\n    const getform = (e) => {\r\n        setFormvalue({ ...formvalue, [e.target.name]: e.target.value });\r\n        console.log(formvalue);\r\n    }\r\n\r\n    const validation = () => {\r\n\r\n        var result = true;\r\n\r\n        if (formvalue.email == \"\") {\r\n            toast.error('Email Field is required');\r\n            result = false;\r\n            return false;\r\n        }\r\n        if (formvalue.password == \"\") {\r\n            toast.error('Password Field is required');\r\n            result = false;\r\n            return false;\r\n        }\r\n        return result;\r\n\r\n    }\r\n    const submithandel = async (e) => {\r\n        e.preventDefault(); // stop page reload\r\n        if (validation()) {\r\n          const res = await axios.get(`http://localhost:3000/user?email=${formvalue.email}`);\r\n          console.log(res);\r\n          if (res.data.length > 0) {\r\n            if (res.data[0].password == formvalue.password) {\r\n                 // create session\r\n          localStorage.setItem('userid',res.data[0].id);\r\n          localStorage.setItem('uname',res.data[0].name);\r\n\r\n              toast.success('Login Success');\r\n              redirect('/');\r\n            }\r\n            else {\r\n              toast.error('Password incorrect');\r\n              return false;\r\n            }\r\n          }\r\n          else {\r\n            toast.error('Email does not Exist');\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    \r\n    \r\n    \r\n    return (\r\n        <div>\r\n            <Header1 title={\"Login\"}/>\r\n            {/* Contact Start */}\r\n            <div className=\"container-xxl py-5\">\r\n                <div className=\"container\">\r\n                    <div className=\"text-center wow fadeInUp\" data-wow-delay=\"0.1s\">\r\n                        <h5 className=\"section-title ff-secondary text-center text-primary fw-normal\">Login     here</h5>\r\n                        <h1 className=\"mb-5\">Login</h1>\r\n                    </div>\r\n                    <div className=\"row g-4\">\r\n                        <div classname=\"container-mt-12\">\r\n                            <div classname=\"wow fadeInUp\" data-wow-delay=\"0.2s\">\r\n                                <form method='post' onSubmit={submithandel}>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n                                        <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\" name='email' value={formvalue.email} onChange={getform} />\r\n                                        <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n                                        <input type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" name='password' placeholder=\"Password\" value={formvalue.password} onChange={getform}/>\r\n                                    </div>\r\n                                        <Link to=\"/signup\">If you not Registered then Register Here</Link>\r\n                                    <br />\r\n                                    <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n                                \r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}